<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>购买确认</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'lakala-blue': '#4fa1d5', // 拉卡拉蓝
                        'lakala-light': '#EAF4FB',
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
    :root {
        --primary-color: #4fa1d5;
        --primary-light: #6fb8e0;
        --primary-dark: #3a89bb;
        --primary-bg: #ecf5fb;
        --secondary-color: #03dac6;
        --background: #F7F9FC;
        --surface: #ffffff;
        --error: #E53935;
        --success: #00C48C;
        --warning: #FF9800;
        --text-primary: #1A1A1A;
        --text-secondary: #5E6C84;
        --text-tertiary: #8993A4;
        --text-on-primary: #ffffff;
        --border-color: #E5E7EB;
        --card-shadow: 0 2px 8px rgba(0,0,0,0.08);
        --elevated-shadow: 0 4px 12px rgba(0,0,0,0.08);
        
        /* 字体大小规范 */
        --font-h1: 20px; /* 主标题 */
        --font-h2: 18px; /* 次级标题 */
        --font-h3: 16px; /* 小标题 */
        --font-body: 14px; /* 正文 */
        --font-small: 12px; /* 辅助文本 */
        
        /* 字体粗细 */
        --font-normal: 400;
        --font-medium: 500;
        --font-bold: 600;
        
        /* 行高规范 */
        --line-height-tight: 1.2;
        --line-height-normal: 1.5;
        --line-height-loose: 1.8;
        
        /* 间距规范 */
        --spacing-xs: 4px;
        --spacing-sm: 8px;
        --spacing-md: 16px;
        --spacing-lg: 24px;
        --spacing-xl: 32px;
        
        /* 布局规范 */
        --page-padding: 16px; /* 页面左右内边距 */
        --card-padding: 16px; /* 卡片内边距 */
        --item-spacing: 16px; /* 组件间距 */
        --section-spacing: 24px; /* 区块间距 */
        --phone-width: 380px;
        --phone-height: 822px;
        --phone-border-radius: 48px;
    }

    /* 设计标注样式更新，与权益中心页面保持一致 */
    .design-spec {
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: var(--spacing-md);
        margin-bottom: var(--spacing-md);
        background-color: #fafafa;
    }
    
    /* 标准化注释和需求说明样式 */
    .annotation {
        font-size: var(--font-body);
        color: #333;
        padding: var(--spacing-sm) var(--spacing-md);
        background: #f0f7ff;
        border-left: 3px solid var(--primary-color); /* 拉卡拉蓝 */
        border-radius: 4px;
        margin: var(--spacing-sm) 0;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        line-height: var(--line-height-normal);
    }
    .design-doc {
        font-size: var(--font-body);
        line-height: var(--line-height-normal);
    }
    .design-doc h3, .design-doc h4 {
        color: var(--primary-color); /* 拉卡拉蓝 */
        margin-top: var(--spacing-md);
        margin-bottom: var(--spacing-sm);
        font-weight: var(--font-bold);
    }
    .design-doc h3 {
        font-size: var(--font-h2);
    }
    .design-doc h4 {
        font-size: var(--font-h3);
    }
    .design-doc ul {
        list-style-type: disc;
        padding-left: var(--spacing-xl);
        margin-bottom: var(--spacing-md);
    }
    .design-doc li {
        margin-bottom: var(--spacing-xs);
        line-height: var(--line-height-normal);
    }
    .requirement {
        background: #f9f9f9;
        padding: var(--spacing-md);
        border-radius: 6px;
        border: 1px solid #eee;
        margin-bottom: var(--spacing-md);
    }
    
    body {
        font-family: PingFang SC, Helvetica Neue, Arial, sans-serif;
        background-color: #F3F4F6;
        color: #1F2937;
        min-width: calc(var(--phone-width) + 600px);
    }
    
    /* 左侧预览容器样式 */
    .preview-container {
        width: var(--phone-width);
        height: var(--phone-height);
        background: white;
        border-radius: var(--phone-border-radius);
        box-shadow: 0 15px 35px rgba(0,0,0,0.1), 0 3px 10px rgba(0,0,0,0.05);
        overflow: hidden;
        position: fixed;
        left: 60px;
        top: 50%;
        transform: translateY(-50%);
    }

    /* 右侧文档样式 */
    .documentation {
        margin-left: calc(var(--phone-width) + 120px);
        padding: 40px 60px;
        max-width: calc(100% - (var(--phone-width) + 120px));
    }

    /* 添加响应式布局 */
    @media (max-width: 1280px) {
        .documentation {
            margin-left: calc(var(--phone-width) + 100px);
            padding: 40px;
        }
    }

    @media (max-width: 1024px) {
        .preview-container {
            left: 40px;
        }
        
        .documentation {
            margin-left: calc(var(--phone-width) + 80px);
            padding: 30px;
        }
    }
</style>
</head>
<body>
    <!-- 左侧预览区域 -->
    <div class="preview-container">
        <iframe src="../preview/purchase_confirm_preview.html" width="100%" height="100%" frameborder="0"></iframe>
    </div>

    <!-- 右侧文档区域 -->
    <div class="documentation">
        <h1 class="text-3xl font-bold mb-8">购买确认页面说明文档</h1>
        
        <!-- 页面概述 -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4 text-lakala-blue">页面概述</h2>
            <div class="requirement">
                <p class="mb-2">购买确认页是用户完成权益包选择后，进行支付前的确认页面。该页面展示用户所选权益包的详细信息、价格明细、支付方式选择以及相关协议，是用户完成购买流程中的关键环节。</p>
                <p>用户可以在此页面确认购买详情，选择支付方式，并进行最终支付操作。</p>
            </div>
        </section>
        
        <!-- 功能需求详解 -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4 text-lakala-blue">功能需求详解</h2>
            <div class="requirement">
                <h4 class="font-bold mb-2">1. 权益包信息展示</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>展示权益包名称和简介</li>
                    <li>显示权益包图标</li>
                    <li>列出包含的具体权益内容</li>
                    <li>显示有效期信息</li>
                </ul>
                
                <h4 class="font-bold mb-2">2. 价格明细</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>显示原价</li>
                    <li>展示优惠折扣金额</li>
                    <li>计算并显示最终实付金额</li>
                    <li>实付金额需在底部固定栏再次展示</li>
                </ul>
                
                <h4 class="font-bold mb-2">3. 支付方式选择</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>提供至少三种支付方式：支付宝、微信支付、银行卡支付</li>
                    <li>默认选中第一种支付方式</li>
                    <li>支持用户切换选择</li>
                    <li>各支付方式需显示对应图标</li>
                </ul>
                
                <h4 class="font-bold mb-2">4. 协议展示与勾选</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>显示《权益购买协议》和《隐私保护政策》链接</li>
                    <li>提供协议勾选功能</li>
                    <li>协议默认勾选</li>
                    <li>协议文字链接支持点击跳转查看详情</li>
                </ul>
                
                <h4 class="font-bold mb-2">5. 支付功能</h4>
                <ul class="list-disc pl-5 space-y-1">
                    <li>底部固定"去支付"按钮</li>
                    <li>点击后根据选择的支付方式跳转到相应支付页面</li>
                    <li>支付前进行协议勾选校验</li>
                </ul>
            </div>
        </section>
        
        <!-- 交互说明 -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4 text-lakala-blue">交互说明</h2>
            <div class="requirement">
                <h4 class="font-bold mb-2">1. 页面导航</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>用户可通过顶部返回按钮返回权益包选择页面</li>
                    <li>完成支付后跳转至支付结果页面</li>
                </ul>
                
                <h4 class="font-bold mb-2">2. 支付方式选择</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>点击任意支付方式区域可切换选中状态</li>
                    <li>同一时间只能选中一种支付方式</li>
                    <li>选中后右侧显示蓝色圆形选中标识</li>
                </ul>
                
                <h4 class="font-bold mb-2">3. 协议交互</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>点击协议文字链接跳转至相应协议详情页</li>
                    <li>点击复选框可切换勾选状态</li>
                    <li>未勾选协议时点击支付按钮弹出提示框</li>
                </ul>
                
                <h4 class="font-bold mb-2">4. 支付按钮交互</h4>
                <ul class="list-disc pl-5 space-y-1">
                    <li>按钮固定在页面底部，不随页面滚动</li>
                    <li>点击后根据支付方式跳转至对应支付渠道</li>
                    <li>点击时增加轻微按下反馈效果</li>
                    <li>加载中状态显示加载动画</li>
                </ul>
            </div>
        </section>
        
        <!-- 测试验收标准 -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4 text-lakala-blue">测试验收标准</h2>
            <div class="requirement">
                <h4 class="font-bold mb-2">1. 功能测试</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>权益包信息完整展示，与选择页一致</li>
                    <li>价格计算准确，各项金额显示正确</li>
                    <li>所有支付方式可正常选择切换</li>
                    <li>协议勾选/取消功能正常</li>
                    <li>支付按钮点击后能正确跳转</li>
                </ul>
                
                <h4 class="font-bold mb-2">2. 界面测试</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>页面布局在各种尺寸设备上正常展示</li>
                    <li>主题色统一为拉卡拉蓝(#4fa1d5)</li>
                    <li>字体、大小、颜色与权益中心页面保持一致</li>
                    <li>所有图标正确显示</li>
                </ul>
                
                <h4 class="font-bold mb-2">3. 交互测试</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>支付方式选择交互流畅，视觉反馈明确</li>
                    <li>协议链接点击能正确跳转</li>
                    <li>未勾选协议时点击支付按钮显示提示</li>
                    <li>底部按钮始终固定在视口底部</li>
                </ul>
                
                <h4 class="font-bold mb-2">4. 业务逻辑测试</h4>
                <ul class="list-disc pl-5 space-y-1">
                    <li>价格计算逻辑符合业务规则</li>
                    <li>支付渠道调用正确</li>
                    <li>支付结果能正确反馈</li>
                    <li>所有文案符合产品规范</li>
                </ul>
            </div>
        </section>
        
        <!-- 异常处理 -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4 text-lakala-blue">异常处理</h2>
            <div class="requirement">
                <h4 class="font-bold mb-2">1. 数据加载异常</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>页面加载中显示骨架屏，提升用户体验</li>
                    <li>数据加载失败时显示网络错误提示，并提供重试按钮</li>
                    <li>请求超时（15秒以上）时，显示超时提示并自动重试</li>
                    <li>价格计算接口异常时，显示"价格计算失败"错误提示</li>
                </ul>
                
                <h4 class="font-bold mb-2">2. 支付异常</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>支付渠道不可用时，对应支付方式显示灰色禁用状态</li>
                    <li>支付接口调用失败时，显示具体错误原因和解决建议</li>
                    <li>支付过程中断（如关闭页面）时，提示用户确认是否放弃支付</li>
                    <li>支付超时时，显示"支付请求超时"提示并提供重试选项</li>
                </ul>
                
                <h4 class="font-bold mb-2">3. 权益不可用</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>所选权益包已下架或更新时，显示"商品信息已变更"提示</li>
                    <li>用户不符合购买条件时，显示限制原因并提供解决方案</li>
                    <li>活动期间额度已满时，显示"活动名额已满"提示</li>
                    <li>权益价格变动时，提示用户"价格已更新"并显示最新价格</li>
                </ul>
                
                <h4 class="font-bold mb-2">4. 用户操作异常</h4>
                <ul class="list-disc pl-5 space-y-1 mb-4">
                    <li>未勾选协议时点击支付，弹出提示"请先阅读并同意协议"</li>
                    <li>短时间内多次点击支付按钮，仅响应首次点击并防止重复提交</li>
                    <li>支付方式未选择时，默认选中第一个可用的支付方式</li>
                    <li>用户余额不足时，显示"余额不足"提示并建议更换支付方式</li>
                </ul>
                
                <h4 class="font-bold mb-2">5. 设备兼容性问题</h4>
                <ul class="list-disc pl-5 space-y-1">
                    <li>在低版本浏览器中优雅降级，确保核心功能可用</li>
                    <li>在网络波动环境下，增加请求重试机制</li>
                    <li>对极端分辨率设备进行适配，确保界面布局正常</li>
                    <li>设备不支持某支付方式时（如不支持指纹支付），隐藏该选项</li>
                </ul>
            </div>
        </section>
    </div>
</body>
</html>